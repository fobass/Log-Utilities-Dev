<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Log Uilities</title>

  <script src="./node_modules/jquery/dist/jquery.js"></script>
  <script src="./node_modules/xel/xel.min.js"></script>
  <script src="./custom_modules/simpledrag.js"></script>
  <script src="./node_modules/jstree/dist/jstree.js"></script>
  

  <link type="text/css" rel="stylesheet" href="./css/styles.css">
  <link type="text/css" rel="stylesheet" href="./css/treeView.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="./node_modules/xel/themes/material.css">
  <link rel="stylesheet" href="./node_modules/jstree/dist/themes/default/style.css" />


</head>
<body>


    <div class="panes-container">
        <div class="left-pane" id="left-pane">
            <nav class="sidebar"> 
                <div class="logo">	
                    <img src="" alt="">
                </div>
                <div class="sidebar-menu"> 
                    <li>
                      <a class="nav-link" id="Order" href="#"><span class="glyphicon glyphicon-envelope"></span></a>
                    </li>
                    <li>
                      <a class="nav-link" id="Atp" href="#"><span class="glyphicon glyphicon-cog"></span></a>
                    </li>
                    <li>
                      <a class="nav-link" id="Aeed" href="#"><span class="glyphicon glyphicon-film"></span></a>
                    </li>
                </div> 
              </nav>
          
          <div class="sidebar-list-content">

            <div class="exploer-title-actions" >
              <div class="exploer-actions-container" role="toolbar" aria-label="Explorer actions">
                <h2 title="Explorer (Ctrl+Shift+E)">Explorer</h2>
                <a class="btn-add-folder" id="add-folder" >
                  <img id="add-folder" src="./images/add-file-2.png" alt="Add folder" width="22" height="22">
                </a>
              </div>
            </div>  

          <div class="exploer-treeview" id="jstree">

          </div>
          
          </div>

        </div>
        <div class="panes-separator" id="panes-separator"></div>
        <div class="right-pane" id="right-pane">
            <div class="content" id="id_content">
                <x-doctabs id="id_doctabs">
                    <x-doctab selected>
                      <x-label>Welcome </x-label>
                    </x-doctab>
                  </x-doctabs>
            </div>
        </div>
    </div>

 

    <div class="footer">
    </div>
    <script src="./view.js"></script>
    
  <div class="requester-header">
      <script>
        require('./titlebar_render.js')
        require('./node_modules/datatables.net/js/jquery.dataTables.js')
      </script>
  </div>

  <script>
      var leftPane = document.getElementById('left-pane');
      var rightPane = document.getElementById('right-pane');
      var paneSep = document.getElementById('panes-separator');
  
      // The script below constrains the target to move horizontally between a left and a right virtual boundaries.
      // - the left limit is positioned at 10% of the screen width
      // - the right limit is positioned at 90% of the screen width
      var leftLimit = 10;
      var rightLimit = 90;
  
  
      paneSep.sdrag(function (el, pageX, startX, pageY, startY, fix) {
  
          fix.skipX = true;
  
          if (pageX < window.innerWidth * leftLimit / 100) {
              pageX = window.innerWidth * leftLimit / 100;
              fix.pageX = pageX;
          }
          if (pageX > window.innerWidth * rightLimit / 100) {
              pageX = window.innerWidth * rightLimit / 100;
              fix.pageX = pageX;
          }
  
          var cur = pageX / window.innerWidth * 100;
          if (cur < 0) {
              cur = 0;
          }
          if (cur > window.innerWidth) {
              cur = window.innerWidth;
          }
  
  
          var right = (100-cur-2);
          leftPane.style.width = cur + '%';
          rightPane.style.width = right + '%';
  
      }, null, 'horizontal');
  
      //TreeView
        var toggler = document.getElementsByClassName("caret");
        var i;

        for (i = 0; i < toggler.length; i++) {
          toggler[i].addEventListener("click", function () {
            this.parentElement.querySelector(".nested").classList.toggle("active");
            this.classList.toggle("caret-down");
          });
        }
        // end treeview



        // $.fn.extend({treeview: function() {
        // return this.each(function() {
        //     // Initialize the top levels;
        //     var tree = $(this);         
        //     tree.addClass('treeview-tree');
        //     tree.find('li').each(function() {
        //         var stick = $(this);
        //     });
        //     tree.find('li').has("ul").each(function () {
        //         var branch = $(this); //li with children ul
                
        //         branch.prepend("<i class='tree-indicator glyphicon glyphicon-chevron-right'></i>");
        //         branch.addClass('tree-branch');
        //         branch.on('click', function (e) {
        //             if (this == e.target) {
        //                 var icon = $(this).children('i:first');
                        
        //                 icon.toggleClass("glyphicon-chevron-down glyphicon-chevron-right");
        //                 $(this).children().children().toggle();
        //             }
        //         })
        //         branch.children().children().toggle();
                            
        //         branch.children('.tree-indicator, button, a').click(function(e) {
        //             branch.click();
                    
        //             e.preventDefault();
        //         });
        //     });
        // });
    // }
// });

// $(window).on('load', function () {
//     $('.treeview').each(function () {
//         var tree = $(this);
//         tree.treeview();
//     })
// })
  </script>

</body>
</html>

